---
title: "[2021/1/21] 베이스 캠프 1주차 회고(4)"
categories: 
  - basecamp
last_modified_at: 2021-01-18T13:00:00+09:00
toc: true
author_profile: true
toc_label: "table of content" # toc 이름 설정
toc_icon: "bars" # 아이콘 설정
toc_sticky: true # 마우스 스크롤과 함께 내려갈 것인지 설정
author_profile: true
---

## 오늘 있었던 일

- 아침에 팀원들과 진행 사항 및 이슈 공유를 위해 3분 스크럼
- 팀원들과 조금 더 친해지고자 스크럼 전에 가벼운 일상 얘기 진행, 재미있다.
- '코드로 배우는 스프링 부트 웹 프로젝트' 파트 3 공부 
- 마크다운 에디터 Typora 설치, (아무리 에디터가 좋으면 뭘하리.. 문법을 모르니까 예쁘게 만들수가 없다.)
- 퇴근 10분 전, 팀원들과 마무리 회의하며 이슈 공유



## 공부한 내용 정리

- Lazy loading vs Eager loading
- 컨트롤러와 서비스
- 리포지토리
- 엔티티

### lazy loading vs eager loading

lazy: FetchType을 Lazy로 명시해줘야함. 모든 엔티티를 가져오는 대신에 필요한 엔티티를 각각 가져옴.

eager: FK쪽의 엔티티를 가져올 때 자동으로 PK 쪽의 엔티티도 가져옴. 모두 가져온다는 것은 때때로 장점이 있지만 성능저하가 일어나기 마련

\- @ToString 을 사용할 때는 주의해야함.

ToString은 해당 클래스의 모든 멤버 변수를 출력하기 때문에 연관관계로 지정한 멤버 변수 또한 출력하게됨.

이 경우 연관관계인 멤버 변수를 호출하기 위해서 해당 멤버의 객체 또한 호출하게 되는데, 이때 데이터베이스 연결이 필요하게 됨.

따라서 이런 문제를 해결하기 위해서 지연로딩을 할 때는 ToString을 사용할 때 exclude 속성값으로 연관관계 멤버를 제외시켜줘야함





\- 지연 로딩을 기본으로 사용하고, 상황에 맞게 방법을 찾는다.

지연로딩의 경우 하나의 테이블을 이용하는 경우 처리속도가 빠름

그러나 필요한 순간에 쿼리를 실행해야 하기 때문에, 연관 관계가 많으면 그만큼 쿼리 실행 수가 많아짐



@Transactional: 해당 메서드를 하나의 '트랜잭션'으로 처리하라는 의미

### 컨트롤러와 서비스

요청과 수행으로 역할을 분리했다고 생각하면 된다.



서비스는 @Service를 꼭 붙여줘야한다.

작성한 서비스는 Contorller에 @Autowired 어노테이션을 사용해서 스프링에 등록시킨다.

### 리포지토리



### 엔티티

테이블과 매핑될 클래스를 의미한다.

@Entity라는 어노테이션을 사용해야함



JPQL을 이용해서 delete, update를 실행하기 위해서는 @Modifying 어노테이션 사용해야함



서비스 계층은 가능하면 반드시 테스트 코드를 작성해서 동작 여부 확인

별도의 화면 구성이 필요하지 않고 데이터만 전송하는 경우에는 @RestController가 편리

## 느낀점

Bottom up 방식의 공부법....

처음에는 이해 못했던 것도 따라하다보면 왠지 모르게 이해되는 마법 같은 경험을 하는중

